**Note:** This tool works with `GEMINI.md` or Other context file and is triggered by commands starting with `:ai-tracker`.

## Core Function

This utility monitors, summarizes, and documents changes in a software project. It analyzes file modifications and **prepends** a categorized summary to `UPDATES.md` at the project root. It then creates a commit with a relevant, conventionally formatted message.

## Workflow

1.  **Prerequisite:** Stage changes using `git add`.
2.  **Execution:** Run `:ai-tracker --update` to generate the summary and commit.
3.  **Process:**
    - The tool uses `git diff --staged` to find staged changes.
    - Diffs are sent to an AI for summarization and categorization based on the rules below.
    - The generated summary is **prepended** to `UPDATES.md`, ensuring the latest update is always at the top.
    - A commit message is generated by the AI based on the summary.
    - **Commit Message Rules:**
        - The message **must** follow the Conventional Commits specification. The type (`feat`, `fix`, `refactor`, etc.) should correspond to the main category of changes.
        - If changes span multiple categories, the commit `type` should reflect the most significant change (e.g., `feat` > `fix` > `refactor`). The commit body should list all significant changes.
        - Do not use substitutions: $(), <(), or >() as it will be rejected by `git commit`.
          - parse the summary to remove these before 
    - **Summary Rules:**
        - Ignore spaces, newlines, and other whitespace or non-code changes when generating the summary.

### Error Handling

- If `git diff --staged` returns no changes, the tool must output "No staged changes to process." and exit without creating a commit.
- If the AI fails to provide a summary, the tool must report an error and not modify any files or create a commit.

## Usage

### Generate or update `UPDATES.md`:

```bash
# Analyze staged changes, update UPDATES.md, and commit
:ai-tracker --update

### Compare against a specific commit or branch:

```bash
# Compare against a specific commit
:ai-tracker --update --ref <commit-hash>

# Compare against another branch
:ai-tracker --update --ref <branch-name>
```

## `UPDATES.md` Format

Changes are grouped by date, category, and then file.

### Example:

```markdown
# Project Updates

## 2023-10-27

### What's New

#### `src/features/auth.js`

- Implemented the core logic for the new user authentication flow.
- Added a new component for the login form.

### Bugfix

#### `src/components/Header.js`

- Fixed a layout issue where the logo would overlap navigation links on smaller screens.
```